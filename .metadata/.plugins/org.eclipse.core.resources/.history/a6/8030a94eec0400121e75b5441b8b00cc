package saveTheLolipop.moteur;

import org.lwjgl.opengl.Display;

import saveTheLolipop.moteur.gestionnaireEtats.GestionnaireEtat;
import saveTheLolipop.moteur.gestionnaireEvenements.GestionnaireClavierSouris;
import saveTheLolipop.moteur.gestionnaireEvenements.GestionnaireEvenement;
import saveTheLolipop.moteurGraphique.donneesAffichage.utilitaire.ImageChargeur;

public class Moteur {
	//attribute
	private GestionnaireEtat gesEtat;
	private GestionnaireEvenement gesEvent;
	//fonctions
	public Moteur() {
		ImageChargeur.chargementImages();
		gesEtat = new GestionnaireEtat();
		gesEvent = new GestionnaireEvenement();
	}
	
	public void init() {
		
	}
	
	public void frame(int delta) {
		//gestion etat / avancement
		gesEtat.verificateurEtat();
		//gestion evenement contiendra la liste elems
		gesEvent.declancheurEvenement();
		gesEvent.gestionEvenement();
		//gestion clavier souris
		GestionnaireClavierSouris.gestionnaireClavier();
		GestionnaireClavierSouris.gestionnaireSouris();
	}
	
	public boolean estArret() {
		if (Display.isCloseRequested()) {
			return arretDuJeu();
		}
		return false;
	}
	
	public GestionnaireEtat getGesEtat() {
		return gesEtat;
	}

	public GestionnaireEvenement getGesEvent() {
		return gesEvent;
	}
	
	public boolean arretDuJeu() {
		Display.destroy();
		return true;
	}
}
